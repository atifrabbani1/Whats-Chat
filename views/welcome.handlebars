<header>
  <div class="container">
    <nav class="navbar fixed-top navbar-expand-lg my-bg justify-content-between navbar-light">
      <span class="navbar-brand">
        <img src="/images/whatsCHAT225.png" class="navbar-brand littlelogo" id="logo_small"><span
          id="connected-text">Welcome, <span id="user">{{user}}</span>!</span>
      </span>
      
      <span>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item"><button class="btn btn-outline-primary mr-2" type="submit" data-toggle="modal"
              data-target="#exampleModalCenter">CHANGE USERNAME</button></li>
          <li class="nav-item"><button class="btn btn-outline-primary mr-2" type="submit" data-toggle="modal"
              data-target="#changepassword">CHANGE PASSWORD</button></li>
          <li class="nav-item"><button class="btn btn-outline-warning" type="submit"><a href="/logout"><span
                  id="logout_text">LOGOUT</span></a></button></li>
        </ul>
      </div>
      </span>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </nav>
  </div>
</header>

<div class="header-placeholder"></div>

{{!-- Messages section --}}
<div class="container">
  <div class="row">
    <div class="col-12">
      <div class="messagesDiv">
        <ul class="messages"></ul>
      </div>
    </div>
  </div>
</div>

<div class="text-center my-footer">
  <div class="row">
    <div class="col-12">
      <h5><span id="connected-text">Users connected: <span id="counter"></span> <span id="typing"></span></span></h5>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <form>
        <input type="text" class="input" id="winput" autocomplete="off" autofocus required /><button
          id="wbutton">Send</button>
      </form>
    </div>
  </div>
</div>

<div class="footer-placeholder"></div>

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Change Username</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <form id="changeName">
          <label for="newName"><b>Change your username permanently?</b></label>
          <br>
          <input type="text" placeholder="Ex: PERSON33" name="newName" pattern="[A-Za-z0-9]{1,}">
          <input type="hidden" value="{{user}}" name="name">
          <p id="err" class="userErr">User Id already exist, try different ID</p>
          <br><br>
          <p class="warning">Warning: You will be logged out after making changes, DO NOT forget your info. Username will be converted
            to all caps</p>
      </div>
      <div class="modal-footer">
        <input type="submit" class="btn btn-primary" Save changes>
        </form>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

{{!-- Change Password Modal --}}

<div class="modal fade" id="changepassword" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Change Password</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <form id="changepsw">
          <label for="newpsw"><b>Change your password permanently?</b></label>
          <br>
          <input type="password" placeholder="Ex: s10PpYj0e$" name="newpsw" pattern=".{4,}">
          <input type="hidden" value="{{password}}" name="psw">
          <br><br>
          <p class="warning">Warning: You will be logged out after making changes, DO NOT forget your info.</p>
      </div>
      <div class="modal-footer">
        <input type="submit" class="btn btn-primary" Save changes>
        </form>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.dev.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script type="text/javascript">

  $(".littlelogo").on("mouseenter", function () {
    $(".littlelogo").addClass("animated pulse")
  });
  $(".littlelogo").on("mouseleave", function () {
    $(".littlelogo").removeClass("pulse")
  });

  $(".littlelogo").on("click", function () {
    $(".littlelogo").addClass("animated flip");
    setTimeout(function () {
      $(".littlelogo").removeClass("animated flip");
    }, 1000);
  });

</script>